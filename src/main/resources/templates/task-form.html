<!DOCTYPE html>
<html>
	<head>
		<meta name="author" content="E-DENIS.SK">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
			crossorigin="anonymous">
		<link href="/public/style.css" rel="stylesheet">
		<title>TDL - add task</title>
	</head>
	<body>
		<div>
			<form id="add-task-form" method="post" th:action="${task?.getId()} ? '/edit-task/' + ${task.getId()} : '/create-task'">
			<div th:if="${error != null}" class="alert alert-danger" role="alert" th:text="${error}"></div>
				<div class="mb-3" draggable="false">
					<label for="startTime" class="form-label">Start time</label>
			    	<input class="form-control" type="datetime-local" name="startTime" th:value="${task?.getStartTime() ?: ''}">
					<div class="invalid-feedback">Please select a start line.</div>
				</div>
				<div class="mb-3">
			    <label for="description" class="form-label">Description</label>
			        <textarea class="form-control" name="description" rows="2" placeholder="description..." required th:text="${task?.getDescription() ?: ''}"></textarea>
			  		<div class="invalid-feedback">Please provide a valid description.</div>
			  	</div>	          
				<div class="mb-3">
					<label for="deadline" class="form-label">Deadline</label>
					<input class="form-control" type="datetime-local" name="deadline" required th:value="${task?.getDeadline() ?: ''}" >
					<div class="invalid-feedback">Please select a deadline.</div>
				</div>
				<div class="mb-3">
					<label for="priority" class="form-label">Priority</label>
					<input type="range" min="0" max="10" step="1" class="form-range" name="priority" th:value="${task?.getPriority() ?: ''}">
				</div>
				<button type="submit" id="login-form-button" class="btn btn-primary">Save</button>
			</form>
		</div>
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
			crossorigin="anonymous"></script>
	</body>
</html>